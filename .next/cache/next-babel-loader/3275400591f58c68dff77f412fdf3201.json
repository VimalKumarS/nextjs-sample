{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport SideMenu from '../components/sideMenu';\nimport Carousel from '../components/Carousel';\nimport MovieList from '../components/MovieList';\nimport Footer from '../components/footer';\nimport { getMovies, getCategories } from '../actions';\n\nvar Home = function Home(props) {\n  var _props$movies = props.movies,\n      movies = _props$movies === void 0 ? [] : _props$movies,\n      _props$categories = props.categories,\n      categories = _props$categories === void 0 ? [] : _props$categories;\n\n  var _useState = useState([]),\n      images = _useState[0],\n      setImages = _useState[1];\n\n  useEffect(function () {\n    var movies = props.movies;\n    var images = movies.map(function (m) {\n      return m.cover;\n    });\n    setImages(images);\n  }, []); // If passing a second argument (array), React will run the callback after the first render and every time one of the elements in the array is changed. for example when placing useEffect(() => console.log('hello'), [someVar, someOtherVar]) - the callback will run after the first render and after any render that one of someVar or someOtherVar are changed.\n  // By passing the second argument an empty array, React will compare after each render the array and will see nothing was changed, thus calling the callback only after the first render.\n\n  return __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"home-page\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-lg-3\"\n  }, __jsx(SideMenu, {\n    categories: categories\n  })), __jsx(\"div\", {\n    className: \"col-lg-9\"\n  }, __jsx(Carousel, {\n    items: images\n  }), __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(MovieList, {\n    movies: movies\n  })))))), __jsx(Footer, null));\n};\n\nHome.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var req, categories, movies;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref.req;\n            _context.next = 3;\n            return getCategories();\n\n          case 3:\n            categories = _context.sent;\n            _context.next = 6;\n            return getMovies();\n\n          case 6:\n            movies = _context.sent;\n            return _context.abrupt(\"return\", {\n              movies: movies,\n              categories: categories\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default Home; // import React, { useState } from 'react'\n// import Link from 'next/link'\n// import Head from 'next/head'\n// import Nav from '../components/nav'\n// import SideMenu from '../components/sideMenu'\n// import Carousel from '../components/Carousel'\n// import MovieList from '../components/MovieList'\n// import Footer from '../components/footer'\n// import { getMovies, getCategories } from '../actions'\n// class Home extends React.Component {\n//   static async getInitialProps({ req }) {\n//     const categories = await getCategories()\n//     const movies = await getMovies()\n//     return {\n//       movies,\n//       categories\n//     }\n//   }\n//   // constructor(props) {\n//   //   super(props)\n//   //   this.state = {\n//   //     movies: [],\n//   //     categories: []\n//   //   }\n//   // }\n//   // componentDidMount() {\n//   //   getMovies().then(movies => {\n//   //     this.setState({movies})\n//   //   })\n//   //   getCategories().then(categories => {\n//   //     this.setState({categories})\n//   //   })\n//   // }\n//   render() {\n//     const {categories, movies} = this.props\n//     return (\n//       <div>\n//         <Head>\n//           <title>Home</title>\n//           <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossOrigin=\"anonymous\" />\n//           <script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossOrigin=\"anonymous\"></script>\n//           <script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\" integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\" crossOrigin=\"anonymous\"></script>\n//           <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\" integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\" crossOrigin=\"anonymous\"></script>\n//         </Head>\n//       <Nav />\n//       <div className=\"home-page\">\n//         <div className=\"container\">\n//           <div className=\"row\">\n//             <div className=\"col-lg-3\">\n//               <SideMenu categories={categories} />\n//             </div>\n//             <div className=\"col-lg-9\">\n//               <Carousel />\n//               <div className=\"row\">\n//                 <MovieList movies={movies} />\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//       <Footer />\n//       <style jsx>{`\n//         .home-page {\n//           margin-top: 80px;\n//         }\n//       `}</style>\n//       </div>\n//     )\n//   }\n// }\n// export default Home","map":{"version":3,"sources":["/Users/vimalsinghal/dexter/nextjs/learn-nextjs/pages/index.js"],"names":["React","useState","useEffect","Link","SideMenu","Carousel","MovieList","Footer","getMovies","getCategories","Home","props","movies","categories","images","setImages","map","m","cover","getInitialProps","req"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,SAAT,EAAoBC,aAApB,QAAyC,YAAzC;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,KAAD,EAAW;AAAA,sBACmBA,KADnB,CACdC,MADc;AAAA,MACdA,MADc,8BACL,EADK;AAAA,0BACmBD,KADnB,CACDE,UADC;AAAA,MACDA,UADC,kCACY,EADZ;;AAAA,kBAEQZ,QAAQ,CAAC,EAAD,CAFhB;AAAA,MAEda,MAFc;AAAA,MAENC,SAFM;;AAItBb,EAAAA,SAAS,CAAC,YAAM;AAAA,QACNU,MADM,GACKD,KADL,CACNC,MADM;AAEd,QAAME,MAAM,GAAGF,MAAM,CAACI,GAAP,CAAW,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACC,KAAN;AAAA,KAAZ,CAAf;AACAH,IAAAA,SAAS,CAACD,MAAD,CAAT;AACD,GAJQ,EAIN,EAJM,CAAT,CAJsB,CAUtB;AACA;;AAEA,SACE,mBACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE,MAAC,QAAD;AAAU,IAAA,UAAU,EAAED;AAAtB,IADF,CADF,EAIE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE,MAAC,QAAD;AAAU,IAAA,KAAK,EAAEC;AAAjB,IADF,EAEE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE,MAAC,SAAD;AAAW,IAAA,MAAM,EAAEF;AAAnB,IADF,CAFF,CAJF,CADF,CADF,CADF,EAgBE,MAAC,MAAD,OAhBF,CADF;AAoBD,CAjCD;;AAmCAF,IAAI,CAACS,eAAL;AAAA,uEAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,GAAT,QAASA,GAAT;AAAA;AAAA,mBACIX,aAAa,EADjB;;AAAA;AACfI,YAAAA,UADe;AAAA;AAAA,mBAEAL,SAAS,EAFT;;AAAA;AAEfI,YAAAA,MAFe;AAAA,6CAId;AACLA,cAAAA,MAAM,EAANA,MADK;AAELC,cAAAA,UAAU,EAAVA;AAFK,aAJc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAAA;AAAA;AAAA;AAAA;;AAUA,eAAeH,IAAf,C,CAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Link from 'next/link'\nimport SideMenu from '../components/sideMenu'\nimport Carousel from '../components/Carousel'\nimport MovieList from '../components/MovieList'\nimport Footer from '../components/footer'\nimport { getMovies, getCategories } from '../actions'\n\nconst Home = (props) => {\n  const { movies = [], categories = [] } = props\n  const [ images, setImages ] = useState([])\n\n  useEffect(() => {\n    const { movies } = props\n    const images = movies.map(m => m.cover)\n    setImages(images)\n  }, []);\n\n  // If passing a second argument (array), React will run the callback after the first render and every time one of the elements in the array is changed. for example when placing useEffect(() => console.log('hello'), [someVar, someOtherVar]) - the callback will run after the first render and after any render that one of someVar or someOtherVar are changed.\n  // By passing the second argument an empty array, React will compare after each render the array and will see nothing was changed, thus calling the callback only after the first render.\n\n  return (\n    <div>\n      <div className=\"home-page\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-lg-3\">\n              <SideMenu categories={categories} />\n            </div>\n            <div className=\"col-lg-9\">\n              <Carousel items={images} />\n              <div className=\"row\">\n                <MovieList movies={movies} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  )\n}\n\nHome.getInitialProps = async ({ req }) => {\n  const categories = await getCategories()\n  const movies = await getMovies()\n\n  return {\n    movies,\n    categories\n  }\n}\n\nexport default Home\n\n\n\n\n\n\n// import React, { useState } from 'react'\n// import Link from 'next/link'\n// import Head from 'next/head'\n// import Nav from '../components/nav'\n// import SideMenu from '../components/sideMenu'\n// import Carousel from '../components/Carousel'\n// import MovieList from '../components/MovieList'\n// import Footer from '../components/footer'\n// import { getMovies, getCategories } from '../actions'\n\n// class Home extends React.Component {\n\n//   static async getInitialProps({ req }) {\n//     const categories = await getCategories()\n//     const movies = await getMovies()\n\n//     return {\n//       movies,\n//       categories\n//     }\n//   }\n\n//   // constructor(props) {\n//   //   super(props)\n//   //   this.state = {\n//   //     movies: [],\n//   //     categories: []\n//   //   }\n//   // }\n\n//   // componentDidMount() {\n//   //   getMovies().then(movies => {\n//   //     this.setState({movies})\n//   //   })\n\n//   //   getCategories().then(categories => {\n//   //     this.setState({categories})\n//   //   })\n//   // }\n\n//   render() {\n//     const {categories, movies} = this.props\n\n//     return (\n//       <div>\n//         <Head>\n//           <title>Home</title>\n//           <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossOrigin=\"anonymous\" />\n//           <script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossOrigin=\"anonymous\"></script>\n//           <script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\" integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\" crossOrigin=\"anonymous\"></script>\n//           <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\" integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\" crossOrigin=\"anonymous\"></script>\n//         </Head>\n//       <Nav />\n//       <div className=\"home-page\">\n//         <div className=\"container\">\n//           <div className=\"row\">\n//             <div className=\"col-lg-3\">\n//               <SideMenu categories={categories} />\n//             </div>\n//             <div className=\"col-lg-9\">\n//               <Carousel />\n//               <div className=\"row\">\n//                 <MovieList movies={movies} />\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//       <Footer />\n//       <style jsx>{`\n//         .home-page {\n//           margin-top: 80px;\n//         }\n//       `}</style>\n//       </div>\n//     )\n//   }\n// }\n\n// export default Home\n"]},"metadata":{},"sourceType":"module"}